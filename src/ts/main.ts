/*!
MIT License

Copyright (c) 2022-2023 Yuriy Bogdan
*/

// @ts-nocheck

$(async () => {
	/*
    –ö—Ö–º. –ó–∞—Ä–ø–ª–∞—Ç–∞ –ø—Ä–∏–π—à–ª–∞?
    –¢–æ–¥—ñ –º–æ–∂–µ—à –∑–∞–¥–æ–Ω–∞—Ç–∏—Ç–∏ –Ω–∞ –ó–°–£ –ø—Ä—è–º–æ –∑–∞—Ä–∞–∑ - <https://uahelp.monobank.ua>

    –î—è–∫—É—é!
    */

	// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–ª–∞—Å—ñ–≤
	Panel = new Panel();
	Sword = new Sword();
	Doser = new Doser();

	Panel.button.click(
		/**–°—Ç–∞—Ä—Ç –∞—Ç–∞–∫–∏*/ () => {
			Sounds.click.play();
			Doser.run();
		}
	);

	$('#attacks-section').click(
		/** –ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∞—Ç–∞–∫*/
		() =>
			Swal.fire(
				'–ê—Ç–∞–∫–∏',
				`–í–∑–∞–≥–∞–ª–æ–º –∞—Ç–∞–∫–æ–≤–∞–Ω–æ: ${Database.attacks}`,
				'info'
			)
	);

	if (Device.connection) {
		if (Device.onLine) {
			// –Ø–∫—â–æ –∑–∞—Å–ª–∞–±–∫–∏–π —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç
			if (
				!['3g', '4g', '5g'].includes(Device.connection?.effectiveType)
			) {
				Swal.fire(
					'–ó–∞—É–≤–∞–∂–µ–Ω–Ω—è',
					'–£ –≤–∞—Å –∑–∞—Å–ª–∞–±–∫–∏–π —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç!\n–î–ª—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—ó –∞—Ç–∞–∫–∏ - –ø—ñ–¥–∫–ª—é—á—ñ—Ç—å—Å—è –¥–æ WI-FI',
					'warning'
				);
			}
		}
	} else Swal.fire('–ü–æ–º–∏–ª–∫–∞', '–ù–µ–º–∞—î –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É!', 'error');

	$(window).on({
		/**
		 * –ì–∞—Ä—è—á—ñ –∫–ª–∞–≤—ñ—à—ñ
		 * @param {KeyboardEvent} e –ü–æ–¥—ñ—è –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏ (–Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–ª–∞–≤—ñ—à—ñ)
		 */
		keyup(e: KeyboardEvent) {
			switch (e.key) {
				case ('Pause', 'Escape'):
					Doser.stop();
					break;
			}
		},
	});

	// –§—ñ—à–µ—á–∫–∏

	if (Device.battery) {
		const battery = await Device.battery;

		battery.onlevelchange = function () {
			if (!this.charging) {
				/** –†—ñ–≤–µ–Ω—å –∑–∞—Ä—è–¥—É –±–∞—Ç–∞—Ä–µ—ó –≤ –≤—ñ–¥—Å–æ—Ç–∫–∞—Ö */
				const level = this.level * 100;

				switch (level) {
					case (15, 11):
						Swal.fire(
							'–£–≤–∞–≥–∞!',
							`–£ –≤–∞—Å —Å—ñ–¥–∞—î –±–∞—Ç–∞—Ä–µ—è (–∑–∞–ª–∏—à–∏–ª–æ—Å—å ${level}%)`,
							'warning'
						);
						break;

					case 10:
						/*
						–ú–∏ –∑–∞–ª–∏—à–∞—î–º–æ 10% –†–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∑–∞—Ä—è–¥—É –∑–∞–¥–ª—è —Ç–æ–≥–æ, —â–æ–± –Ω–∞—à–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ –Ω–µ –∑–∂–∏—Ä–∞–ª–∞ –±–∞—Ç–∞—Ä–µ—é –∞–∂ –¥–æ –Ω—É–ª—è
						–ë–æ —è–∫—â–æ —Ä–∞–ø—Ç–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω —Å—è–¥–µ, –∞ —Ç—É—Ç —Å–≤—ñ—Ç–ª–æ —â–µ –≤–∏–º–∫–Ω—É–ª–∏, —Ç–∞–∫ —â–æ –æ—Å—å –∑–∞–ø–æ–±—ñ–∂–Ω–∏–∫
						*/
						Swal.fire(
							'–£–≤–∞–≥–∞!',
							'–ö—Ä–∏—Ç–∏—á–Ω–æ –Ω–∏–∑—å–∫–∏–π –∑–∞—Ä—è–¥ –±–∞—Ç–∞—Ä–µ—ó, –∞—Ç–∞–∫—É –±—É–¥–µ –≤–∏–º–∫–Ω—É—Ç–æ\n\
                        –ü—Ä–æ—Å–∏–º–æ –ø–æ—Å—Ç–∞–≤–∏—Ç–∏ —Ç–µ–ª–µ—Ñ–æ–Ω –Ω–∞ –∑–∞—Ä—è–¥–∫—É',

							'warning'
						).then(() => Doser.stop());
						break;
				}
			}
		};
	}

	console.log(
		'%c–£–í–ê–ì–ê!!!\n–ù–ï –í–°–¢–ê–í–õ–Ø–ô–¢–ï —Å—é–¥–∏ –ë–£–î–¨-–Ø–ö–Ü –ö–û–î–ò!, \
–¶–ò–ú –ú–û–ñ–ï –°–ö–û–†–ò–°–¢–ê–¢–ò–°–¨ –í–û–†–û–ì, –ü–Ü–î–ú–Ü–ù–ò–í–®–ò –ù–ê–®–Ü –¶–Ü–õ–Ü –ù–ê –í–û–†–û–ñ–Ü!\n\n\
–¢–∞–∫–æ–∂ —Å—É–≤–æ—Ä–æ –∑–∞–±–æ—Ä–æ–Ω—è—î—Ç—å—Å—è –≤—Å—Ç–∞–≤–ª—è—Ç–∏ –∫–æ–¥–∏ –Ω–∞–≤—ñ—Ç—å –≤—ñ–¥ —É–∫—Ä–∞—ó–Ω—Ü—ñ–≤, \
–Ω–∞–º –Ω–µ –º–æ–∂–Ω–∞ –≤—ñ–¥—Ö–æ–¥–∏—Ç–∏ –≤—ñ–¥ –∫—É—Ä—Å—É IT –ê—Ä–º—ñ—ó, –Ω–∞–º –≤—Å—ñ–º —Ç—Ä–µ–±–∞ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ —Ä–∞–∑–æ–º —ñ –Ω–µ —Ä–æ–∑–¥—ñ–ª—è—Ç–∏—Å—å',

		'font-size: 16px;\
         font-family: system-ui;\
		 background-color: red;\
		 display: block;'
	);

	console.log(
		'%c–Ø–∫—â–æ —Ç–∏ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫ - –º–æ–∂–µ—à –¥–æ–ø–æ–º–æ–≥—Ç–∏ –ø—Ä–æ–µ–∫—Ç—É üòé\n\
https://github.com/BogdanDevUA/ddos-separ\n\n\
–ü–æ—Å—Ç–∞–≤ –∑—ñ—Ä–æ—á–∫—É üå†, –ø–æ–¥–∞–π —ñ–¥–µ—é –∞–±–æ –∑—Ä–æ–±–∏ –ø—É–ª–ª-—Ä–µ–∫–≤–µ—Å—Ç!\n\
–ë—É–¥—É –¥—É–∂–µ –≤–¥—è—á–Ω–∏–πüòä!',

		'font-size: 16px;\
         font-family: system-ui;'
	);
});

// –°–ª–∞–≤–∞ –£–∫—Ä–∞—ó–Ω—ñ!
